<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    function getComputerChoice() {
      return ["rock", "paper", "scissors"][Math.floor(Math.random() * 3)];
    }

    function playRound(playerSelection, computerSelection) {
      playerSelection = playerSelection.toLowerCase();
      computerSelection = computerSelection.toLowerCase();
      switch (playerSelection) {
        case "rock":
          if (computerSelection === "rock") {
            return [0,"Tie!"];
          } else if (computerSelection === "paper") {
            return [-1,"You Lose! Paper beats Rock!"];
          } else if (computerSelection === "scissors") {
            return [1, "You Win! Rock beats Scissors!"];
          } else {
            return [Number.NaN, "computer selection was invalid"];
          }
          break;
        case "paper":
          if (computerSelection === "paper") {
            return [0, "Tie!"];
          } else if (computerSelection === "rock") {
            return [1, "You Win! Paper beats rock!"];
          } else if (computerSelection === "scissors") {
            return [-1, "You Lose! Scissors beats paper!"];
          } else {
            return [Number.NaN, "computer selection was invalid"];
          }
          break;
        case "scissors":
          if (computerSelection === "scissors") {
            return [0, "Tie!"];
          } else if (computerSelection === "paper") {
            return [1, "You Win! Scissors beats paper"];
          } else if (computerSelection === "rock") {
            return [-1, "You Lose! Rock beats Scissors!"];
          } else {
            return [Number.NaN, "computer selection was invalid"];
          }
          break;
        default:
          return [Number.NaN, "Player selection was invalid"];
      }
    }

    function game() {
      let gameScore = 0;
      let i = 0;
      let playerWins = 0;
      let computerWins = 0;
      while (i < 5 && playerWins < 3 && computerWins < 3) {
        const playerSelection = prompt(`Round ${i + 1} - Choose Rock, Paper, or Scissors`);
        const computerSelection = getComputerChoice();
        const [roundScore, message] = playRound(playerSelection, computerSelection);
        if (Number.isNaN(roundScore) || roundScore === 0) i--;
        else {
          gameScore += roundScore;
          if (roundScore > 0) playerWins++;
          else computerWins++; 
        }
        console.log(message);
        i++;
      }
      console.log(gameScore > 0 ? "Congratulations! You Won!" : "You Lost, better luck next time");
    }

    game();
  </script>
</body>

</html>